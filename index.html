<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR.js Camera Position</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <a-scene embedded arjs="sourceType: webcam;">
    <!-- Display the relative camera position -->
    <a-entity id="cameraPosition" position="0 0 -5" text="value: Camera Position: 0 0 -5"></a-entity>

    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // Get the camera element
    var cameraEl = document.querySelector('[camera]');

    // Define the initial camera position
    var initialCameraPos = null;

    // Update initial camera position once the scene is loaded
    cameraEl.addEventListener('loaded', function () {
      initialCameraPos = this.object3D.position.clone();
    });

    // Update camera position on every frame
    cameraEl.addEventListener('enterframe', function () {
      // Check if initial camera position is set
      if (initialCameraPos) {
        // Get camera's current position
        var cameraPos = this.object3D.position.clone();

        // Calculate relative position from initial position
        var relativePos = cameraPos.clone().sub(initialCameraPos);

        // Update text entity to display relative camera position
        var cameraPositionText = document.getElementById('cameraPosition');
        cameraPositionText.setAttribute('text', 'value', 'Relative Camera Position: ' + relativePos.x.toFixed(2) + ' ' + relativePos.y.toFixed(2) + ' ' + relativePos.z.toFixed(2));
      }
    });
  </script>
</body>
</html>

