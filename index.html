<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AR.js Example</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
      #camera-position {
        position: fixed;
        top: 10px;
        left: 10px;
        color: white;
        font-family: monospace;
        font-size: 14px;
      }
    </style>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <div id="camera-position"></div>
    <a-scene
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
      renderer="antialias: true; alphaBackground: true;"
    >
      <a-camera>
        <a-entity
          id="ar-object"
          position="0 0 0"
          scale="0.2 0.2 0.2"
          geometry="primitive: sphere; radius: 0.5;"
          material="color: red;"
        ></a-entity>
      </a-camera>
    </a-scene>

    <script>
      const scene = document.querySelector('a-scene');
      const arObject = document.querySelector('#ar-object');
      const cameraPositionElement = document.querySelector('#camera-position');

      scene.addEventListener('renderstart', () => {
        const camera = scene.camera.el.object3D;
        arObject.object3D.position.copy(camera.position);
        arObject.object3D.rotation.copy(camera.rotation);

        // Update camera position text
        cameraPositionElement.textContent = `Camera Position: (${camera.position.x.toFixed(2)}, ${camera.position.y.toFixed(2)}, ${camera.position.z.toFixed(2)})`;
      });
    </script>
  </body>
</html>
